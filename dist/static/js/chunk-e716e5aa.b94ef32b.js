(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e716e5aa"],{2612:function(e,t,o){"use strict";o.d(t,"e",(function(){return r})),o.d(t,"d",(function(){return s})),o.d(t,"a",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"b",(function(){return c}));var n=o("b775");function r(e){return Object(n["a"])({url:"users?".concat(e),method:"get"})}function s(e){return Object(n["a"])({url:"users/".concat(e),method:"get"})}function i(e){return Object(n["a"])({url:"users/create",method:"post",data:e})}function a(e,t){return Object(n["a"])({url:"users/".concat(e,"/update"),method:"post",data:t})}function c(e){return Object(n["a"])({url:"users/".concat(e,"/delete"),method:"post"})}},6866:function(e,t,o){},f4f0:function(e,t,o){"use strict";var n=o("6866"),r=o.n(n);r.a},f6dd:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"auto-complete":"on","label-width":"120px"}},[o("el-form-item",{attrs:{label:"账号",prop:"nickname"}},[o("el-input",{ref:"nickname",model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),o("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[o("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{ref:"name",model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"职业",prop:"position_id"}},[o("el-select",{ref:"position_id",attrs:{placeholder:"请选择用户的职位"},model:{value:e.form.position_id,callback:function(t){e.$set(e.form,"position_id",t)},expression:"form.position_id"}},e._l(e.positions,(function(e,t){return o("el-option",{attrs:{label:e,value:t}})})),1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("创建")])],1)],1)],1)},r=[],s=o("2612"),i={data:function(){return{form:{nickname:"",name:"",password:"",position_id:""},rules:{nickname:[{required:!0,trigger:"blur",message:"账号必填"}],name:[{required:!0,trigger:"blur",message:"姓名必填"}],password:[{required:!0,trigger:"blur",message:"密码必填"}],position_id:[{required:!0,trigger:"blur",message:"职位必选"}]},passwordType:"password",loading:!1}},computed:{positions:function(){return this.$store.state.app.positions}},created:function(){this.$store.dispatch("app/initPositions")},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&(console.log(t),e.loading=!0,Object(s["a"])(e.form).then((function(t){e.$router.push("/users/index"),e.loading=!1})).catch((function(t){console.log(t),e.loading=!1})))}))}}},a=i,c=(o("f4f0"),o("2877")),u=Object(c["a"])(a,n,r,!1,null,"06ee1e06",null);t["default"]=u.exports}}]);