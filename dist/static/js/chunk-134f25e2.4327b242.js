(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-134f25e2"],{2612:function(o,t,r){"use strict";r.d(t,"e",(function(){return e})),r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return i}));var s=r("b775");function e(o){return Object(s["a"])({url:"users?".concat(o),method:"get"})}function n(o){return Object(s["a"])({url:"users/".concat(o),method:"get"})}function a(o){return Object(s["a"])({url:"users/create",method:"post",data:o})}function c(o,t){return Object(s["a"])({url:"users/".concat(o,"/update"),method:"post",data:t})}function i(o){return Object(s["a"])({url:"users/".concat(o,"/delete"),method:"post"})}},"6cbb":function(o,t,r){"use strict";r.r(t);var s=function(){var o=this,t=o.$createElement,r=o._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:o.form,rules:o.rules,"auto-complete":"on","label-width":"120px"}},[r("el-form-item",{attrs:{label:"账号"}},[r("el-input",{ref:"nickname",attrs:{disabled:!0},model:{value:o.form.nickname,callback:function(t){o.$set(o.form,"nickname",t)},expression:"form.nickname"}})],1),o._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{key:o.passwordType,ref:"password",attrs:{type:o.passwordType},model:{value:o.form.password,callback:function(t){o.$set(o.form,"password",t)},expression:"form.password"}}),o._v(" "),r("span",{staticClass:"show-pwd",on:{click:o.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===o.passwordType?"eye":"eye-open"}})],1)],1),o._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"conform_password"}},[r("el-input",{key:o.passwordType,ref:"conform_password",attrs:{type:o.passwordType},model:{value:o.form.conform_password,callback:function(t){o.$set(o.form,"conform_password",t)},expression:"form.conform_password"}}),o._v(" "),r("span",{staticClass:"show-pwd",on:{click:o.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===o.passwordType?"eye":"eye-open"}})],1)],1),o._v(" "),r("el-form-item",[r("el-button",{attrs:{loading:o.loading,type:"primary"},nativeOn:{click:function(t){return o.onSubmit(t)}}},[o._v("更新")])],1)],1)],1)},e=[],n=r("2612"),a={data:function(){var o=this,t=function(t,r,s){o.form.conform_password.length<1?s(new Error("确认密码必填")):o.form.password!==o.form.conform_password?s(new Error("确认密码必须与密码一致")):s()};return{form:{nickname:"",password:"",conform_password:""},rules:{password:[{required:!0,trigger:"blur",message:"密码必填"}],conform_password:[{required:!0,trigger:"blur",validator:t}]},passwordType:"password",loading:!1}},computed:{positions:function(){return this.$store.state.app.positions},id:function(){return this.$route.query.id}},created:function(){this.$store.dispatch("app/initPositions"),this.getUser()},methods:{showPwd:function(){var o=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){o.$refs.password.focus()}))},onSubmit:function(){var o=this;this.$refs.form.validate((function(t){t&&(o.loading=!0,Object(n["c"])(o.id,o.form).then((function(t){o.$router.push("/users/index"),o.loading=!1})).catch((function(t){console.log(t),o.loading=!1})))}))},getUser:function(){var o=this;Object(n["d"])(this.id).then((function(t){var r=t.data;o.form.nickname=r.nickname})).catch((function(o){console.log(o)}))}}},c=a,i=(r("c080"),r("2877")),u=Object(i["a"])(c,s,e,!1,null,"3894e68a",null);t["default"]=u.exports},"9c6b":function(o,t,r){},c080:function(o,t,r){"use strict";var s=r("9c6b"),e=r.n(s);e.a}}]);