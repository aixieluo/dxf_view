(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-134f25e2"],{2612:function(o,s,r){"use strict";r.d(s,"d",(function(){return e})),r.d(s,"c",(function(){return n})),r.d(s,"a",(function(){return a})),r.d(s,"b",(function(){return i}));var t=r("b775");function e(o){return Object(t["a"])({url:"users?".concat(o),method:"get"})}function n(o){return Object(t["a"])({url:"users/".concat(o),method:"get"})}function a(o){return Object(t["a"])({url:"users/create",method:"post",data:o})}function i(o,s){return Object(t["a"])({url:"users/".concat(o,"/update"),method:"post",data:s})}},"6cbb":function(o,s,r){"use strict";r.r(s);var t=function(){var o=this,s=o.$createElement,r=o._self._c||s;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:o.form,rules:o.rules,"auto-complete":"on","label-width":"120px"}},[r("el-form-item",{attrs:{label:"账号"}},[r("el-input",{ref:"nickname",attrs:{disabled:!0},model:{value:o.form.nickname,callback:function(s){o.$set(o.form,"nickname",s)},expression:"form.nickname"}})],1),o._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{key:o.passwordType,ref:"password",attrs:{type:o.passwordType},model:{value:o.form.password,callback:function(s){o.$set(o.form,"password",s)},expression:"form.password"}}),o._v(" "),r("span",{staticClass:"show-pwd",on:{click:o.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===o.passwordType?"eye":"eye-open"}})],1)],1),o._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"conform_password"}},[r("el-input",{key:o.passwordType,ref:"conform_password",attrs:{type:o.passwordType},model:{value:o.form.conform_password,callback:function(s){o.$set(o.form,"conform_password",s)},expression:"form.conform_password"}}),o._v(" "),r("span",{staticClass:"show-pwd",on:{click:o.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===o.passwordType?"eye":"eye-open"}})],1)],1),o._v(" "),r("el-form-item",[r("el-button",{attrs:{loading:o.loading,type:"primary"},nativeOn:{click:function(s){return o.onSubmit(s)}}},[o._v("更新")])],1)],1)],1)},e=[],n=r("2612"),a={data:function(){var o=this,s=function(s,r,t){o.form.conform_password.length<1?t(new Error("确认密码必填")):o.form.password!==o.form.conform_password?t(new Error("确认密码必须与密码一致")):t()};return{form:{nickname:"",password:"",conform_password:""},rules:{password:[{required:!0,trigger:"blur",message:"密码必填"}],conform_password:[{required:!0,trigger:"blur",validator:s}]},passwordType:"password",loading:!1}},computed:{positions:function(){return this.$store.state.app.positions},id:function(){return this.$route.query.id}},created:function(){this.$store.dispatch("app/initPositions"),this.getUser()},methods:{showPwd:function(){var o=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){o.$refs.password.focus()}))},onSubmit:function(){var o=this;this.$refs.form.validate((function(s){s&&(o.loading=!0,Object(n["b"])(o.id,o.form).then((function(s){o.$router.push("/users/index"),o.loading=!1})).catch((function(s){console.log(s),o.loading=!1})))}))},getUser:function(){var o=this;Object(n["c"])(this.id).then((function(s){var r=s.data;o.form.nickname=r.nickname})).catch((function(o){console.log(o)}))}}},i=a,c=(r("c080"),r("2877")),p=Object(c["a"])(i,t,e,!1,null,"3894e68a",null);s["default"]=p.exports},"9c6b":function(o,s,r){},c080:function(o,s,r){"use strict";var t=r("9c6b"),e=r.n(t);e.a}}]);