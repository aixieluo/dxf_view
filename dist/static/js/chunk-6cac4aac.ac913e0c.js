(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cac4aac"],{"083b":function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"app-container"},[e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"auto-complete":"on","label-width":"120px"}},[e("el-form-item",{attrs:{label:"账号"}},[e("el-input",{ref:"nickname",attrs:{disabled:!0},model:{value:t.form.nickname,callback:function(n){t.$set(t.form,"nickname",n)},expression:"form.nickname"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"姓名",prop:"name"}},[e("el-input",{ref:"name",model:{value:t.form.name,callback:function(n){t.$set(t.form,"name",n)},expression:"form.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"职业",prop:"position_id"}},[e("el-select",{ref:"position_id",attrs:{placeholder:"请选择用户的职位"},model:{value:t.form.position_id,callback:function(n){t.$set(t.form,"position_id",n)},expression:"form.position_id"}},t._l(t.positions,(function(t,n){return e("el-option",{attrs:{label:t,value:n}})})),1)],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(n){return t.onSubmit(n)}}},[t._v("更新")])],1)],1)],1)},i=[],r=(e("6b54"),e("7f7f"),e("2612")),a={data:function(){return{form:{nickname:"",name:"",position_id:""},rules:{name:[{required:!0,trigger:"blur"}],position_id:[{required:!0,trigger:"blur"}]},loading:!1}},computed:{positions:function(){return this.$store.state.app.positions},id:function(){return this.$route.query.id}},created:function(){this.$store.dispatch("app/initPositions"),this.getUser()},methods:{onSubmit:function(){var t=this;this.$refs.form.validate((function(n){n&&(t.loading=!0,Object(r["b"])(t.id,t.form).then((function(n){t.$router.push("/users/index"),t.loading=!1})).catch((function(n){console.log(n),t.loading=!1})))}))},getUser:function(){var t=this;Object(r["c"])(this.id).then((function(n){var e=n.data;t.form.nickname=e.nickname,t.form.name=e.name,t.form.position_id=e.position.id.toString()})).catch((function(t){console.log(t)}))}}},c=a,s=(e("7873"),e("2877")),u=Object(s["a"])(c,o,i,!1,null,"1363e810",null);n["default"]=u.exports},2612:function(t,n,e){"use strict";e.d(n,"d",(function(){return i})),e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return c}));var o=e("b775");function i(t){return Object(o["a"])({url:"users?".concat(t),method:"get"})}function r(t){return Object(o["a"])({url:"users/".concat(t),method:"get"})}function a(t){return Object(o["a"])({url:"users/create",method:"post",data:t})}function c(t,n){return Object(o["a"])({url:"users/".concat(t,"/update"),method:"post",data:n})}},7873:function(t,n,e){"use strict";var o=e("d6c0"),i=e.n(o);i.a},d6c0:function(t,n,e){}}]);