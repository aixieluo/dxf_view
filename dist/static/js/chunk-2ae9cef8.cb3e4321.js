(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ae9cef8"],{"15e7":function(t,e,n){"use strict";var a=n("c692"),r=n.n(a);r.a},"71fa":function(t,e,n){"use strict";n.d(e,"j",(function(){return r})),n.d(e,"i",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"c",(function(){return s})),n.d(e,"h",(function(){return f})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"m",(function(){return g})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return _}));var a=n("b775");function r(t){return Object(a["a"])({url:"sofa?".concat(t),method:"get"})}function o(){return Object(a["a"])({url:"sofa/list",method:"get"})}function i(t){return Object(a["a"])({url:"sofa/".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"sofa",method:"post",data:t})}function u(t,e){return Object(a["a"])({url:"sofa/".concat(t),method:"post",data:e})}function l(t){return Object(a["a"])({url:"sofa/".concat(t,"/up"),method:"post"})}function s(t){return Object(a["a"])({url:"sofa/".concat(t,"/delete"),method:"post"})}function f(t,e){return Object(a["a"])({url:"sofa/".concat(t,"/items?").concat(e),method:"get"})}function d(t,e){return Object(a["a"])({url:"sofa/".concat(t,"/items/").concat(e),method:"get"})}function p(t,e){return Object(a["a"])({url:"sofa/".concat(t,"/items"),method:"post",data:e})}function g(t,e,n){return Object(a["a"])({url:"sofa/".concat(t,"/items/").concat(e),method:"post",data:n})}function h(t,e){return Object(a["a"])({url:"sofa/".concat(t,"/items/").concat(e,"/delete"),method:"post"})}function _(){return Object(a["a"])({url:"designs",method:"get"})}},c692:function(t,e,n){},fa1c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-row",{staticClass:"table-header",attrs:{gutter:20,type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:6}},[n("h3",[t._v(t._s(t.sofa_name))])]),t._v(" "),n("el-col",{attrs:{span:14}},[n("div",{staticClass:"grid-content bg-purple"})]),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{type:"primary"}},[n("app-link",{attrs:{to:"/sofa/"+t.id+"/items/create"}},[t._v("创建新规格")])],1)],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"table-top",attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.id)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"材料名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"材料编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.uid))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"规格名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.color))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"规格编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.fid))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"材料单价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.price))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon-time"}),t._v(" "),n("span",[t._v(t._s(e.row.created_at))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"updated_at",label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon-time"}),t._v(" "),n("span",[t._v(t._s(e.row.updated_at))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"}},[n("app-link",{attrs:{to:"/sofa/"+t.id+"/items/"+e.row.id+"/update"}},[t._v("修改信息")])],1),t._v(" "),e.row.del?n("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"是否删除这个材料，删除后不可恢复"},on:{onConfirm:function(n){return t.delSofaItem(e)}}},[n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("删除")])],1):t._e()]}}])})],1),t._v(" "),n("el-pagination",{staticClass:"el-pagination__editor pagination",attrs:{"hide-on-single-page":!0,background:"",layout:"sizes, total, prev, pager, next, jumper",total:t.total,"page-size":t.filter.perPage,"page-sizes":[10,15,20],"current-page":t.filter.page},on:{"update:pageSize":function(e){return t.$set(t.filter,"perPage",e)},"update:page-size":function(e){return t.$set(t.filter,"perPage",e)},"update:currentPage":function(e){return t.$set(t.filter,"page",e)},"update:current-page":function(e){return t.$set(t.filter,"page",e)},"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)},r=[],o=(n("7f7f"),n("71fa")),i=n("ed08"),c=n("a6e1"),u={components:{AppLink:c["a"]},data:function(){return{list:null,listLoading:!0,total:1,sofa_name:"",filter:{perPage:10,page:1}}},computed:{id:function(){return this.$route.params.id}},mounted:function(){var t=this;if(!this.id)return this.$router.push("/sofa/index");Object(o["f"])(this.id).then((function(e){var n=e.data;t.sofa_name=n.name})),this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(o["h"])(this.id,Object(i["b"])(this.filter)).then((function(e){t.list=e.data.list.data,t.total=e.data.list.total,t.filter.page=e.data.list.current_page,t.listLoading=!1}))},handleCurrentChange:function(){this.fetchData()},handleSizeChange:function(){this.fetchData()},delSofaItem:function(t){var e=this;Object(o["d"])(this.id,t.row.id).then((function(n){e.list.splice(t.$index)}))}}},l=u,s=(n("15e7"),n("2877")),f=Object(s["a"])(l,a,r,!1,null,"4e1c6dda",null);e["default"]=f.exports}}]);