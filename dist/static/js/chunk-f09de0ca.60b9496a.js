(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f09de0ca"],{"71fa":function(e,t,r){"use strict";r.d(t,"h",(function(){return i})),r.d(t,"g",(function(){return a})),r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return l})),r.d(t,"i",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return f})),r.d(t,"j",(function(){return d})),r.d(t,"c",(function(){return m}));var o=r("b775");function i(e){return Object(o["a"])({url:"sofa?".concat(e),method:"get"})}function a(){return Object(o["a"])({url:"sofa/list",method:"get"})}function n(e){return Object(o["a"])({url:"sofa/".concat(e),method:"get"})}function l(e){return Object(o["a"])({url:"sofa",method:"post",data:e})}function s(e,t){return Object(o["a"])({url:"sofa/".concat(e),method:"post",data:t})}function u(e,t){return Object(o["a"])({url:"sofa/".concat(e,"/items?").concat(t),method:"get"})}function c(e,t){return Object(o["a"])({url:"sofa/".concat(e,"/items/").concat(t),method:"get"})}function f(e,t){return Object(o["a"])({url:"sofa/".concat(e,"/items"),method:"post",data:t})}function d(e,t,r){return Object(o["a"])({url:"sofa/".concat(e,"/items/").concat(t),method:"post",data:r})}function m(){return Object(o["a"])({url:"designs",method:"get"})}},beea:function(e,t,r){},db18:function(e,t,r){"use strict";var o=r("beea"),i=r.n(o);i.a},f2c7:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"auto-complete":"on","label-width":"120px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"sofa_name"}},[r("el-input",{ref:"sofa_name",attrs:{disabled:""},model:{value:e.sofa_name,callback:function(t){e.sofa_name=t},expression:"sofa_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"材料名称",prop:"name"}},[r("el-input",{ref:"name",model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"材料编号",prop:"uid"}},[r("el-input",{ref:"uid",model:{value:e.form.uid,callback:function(t){e.$set(e.form,"uid",t)},expression:"form.uid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"规格名称",prop:"color"}},[r("el-input",{ref:"color",model:{value:e.form.color,callback:function(t){e.$set(e.form,"color",t)},expression:"form.color"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"规格编号",prop:"fid"}},[r("el-input",{ref:"fid",model:{value:e.form.fid,callback:function(t){e.$set(e.form,"fid",t)},expression:"form.fid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"材料单价",prop:"price"}},[r("el-input",{ref:"price",model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"预览图",prop:"preview"}},[r("el-upload",{ref:"upload",attrs:{limit:1,action:this.baseUrl+"/upload","list-type":"picture-card","auto-upload":!0,"on-success":e.handleSuccess},scopedSlots:e._u([{key:"file",fn:function(t){var o=t.file;return r("div",{},[r("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:o.url,alt:""}}),e._v(" "),r("span",{staticClass:"el-upload-list__item-actions"},[r("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(o)}}},[r("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),e.disabled?e._e():r("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(o)}}},[r("i",{staticClass:"el-icon-delete"})])])])}}])},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("创建")])],1)],1)],1)},i=[],a=(r("7f7f"),r("71fa")),n={data:function(){return{form:{name:"",uid:"",color:"",fid:"",price:"",preview:""},sofa_name:"",dialogImageUrl:"",dialogVisible:!1,disabled:!1,rules:{name:[{required:!0,trigger:"blur",message:"必填"}],uid:[{required:!0,trigger:"blur",message:"必填"}],color:[{required:!0,trigger:"blur",message:"必填"}],fid:[{required:!0,trigger:"blur",message:"必填"}],price:[{required:!0,trigger:"blur",message:"必填"}],preview:[{required:!0,trigger:"blur",message:"必须上传一张图"}]},loading:!1}},computed:{id:function(){return this.$route.params.id},baseUrl:function(){return"/api"}},mounted:function(){var e=this;Object(a["d"])(this.id).then((function(t){var r=t.data;e.sofa_name=r.name}))},methods:{onSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&(console.log(e.form),e.loading=!0,Object(a["b"])(e.id,e.form).then((function(t){e.$router.push("/sofa/".concat(e.id,"/items/index")),e.loading=!1})).catch((function(t){console.log(t),e.loading=!1})))}))},handleRemove:function(e,t){this.$refs.upload.handleRemove(e),this.form.preview=""},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleSuccess:function(e,t,r){this.form.preview=e.url}}},l=n,s=(r("db18"),r("2877")),u=Object(s["a"])(l,o,i,!1,null,"38aaf422",null);t["default"]=u.exports}}]);